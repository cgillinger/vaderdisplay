/* Modern Weather Dashboard - LP156WH4(TL)(P1) SPECIALANPASSAD CSS */
/* FONT AWESOME OPTIMERAD: Korrigerade sökvägar och ingen dubbel-deklaration */
/* OPTIMERAD FÖR: 15.6" 1366×768 LED LCD Panel + Pi3B prestanda */
/* UPPDATERAD: Förstärkta väderikoner för bättre synlighet */
/* + KONSISTENT VINDLAYOUT: Alltid radbryt för uniform storlek */

/* === CSS RESET & BASE === */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    height: 100%;
    font-family: 'Segoe UI', 'Roboto', 'Source Sans Pro', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    font-weight: 600;  /* ÖKAT: från 500 → 600 för LP156WH4 */
    line-height: 1.5;
    
    /* LCD-PANEL OPTIMERING för LP156WH4 */
    -webkit-font-smoothing: subpixel-antialiased;  /* ÄNDRAT: från antialiased → subpixel för LCD */
    -moz-osx-font-smoothing: unset;  /* ÄNDRAT: Låt Firefox använda standard för LCD */
    text-rendering: optimizeLegibility;
    font-feature-settings: "kern" 1;
    
    /* EXTRA TJOCKLEK för tunnare paneler */
    text-shadow: 0 0 0.5px currentColor;  /* NYT: Subtil text-shadow för tjockare text */
}

/* === ROBUST ICON SYSTEM BASE (FÖRSTÄRKT) === */

/* Weather Icons - Förstärkt för LP156WH4 */
.wi {
    font-family: 'weathericons', 'Weather Icons', sans-serif !important;
    font-style: normal !important;
    font-weight: normal !important;
    line-height: 1 !important;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    display: inline-block;
    vertical-align: baseline;
    
    /* EXTRA TJOCKLEK för ikoner på LP156WH4 */
    filter: drop-shadow(0 0 0.5px currentColor);  /* NYT: Tjockare ikoner */
}

[class^="wi-"]:before,
[class*=" wi-"]:before {
    font-family: 'weathericons', 'Weather Icons', sans-serif !important;
    font-style: normal !important;
    font-weight: normal !important;
}

/* Font Awesome - Förstärkt */
.fas {
    font-family: "Font Awesome 6 Free", "Font Awesome 5 Free", sans-serif !important;
    font-style: normal !important;
    font-weight: 900 !important;
    line-height: 1 !important;
    display: inline-block;
    vertical-align: baseline;
    
    /* EXTRA TJOCKLEK för Font Awesome på LP156WH4 */
    filter: drop-shadow(0 0 0.5px currentColor);
}

/* === CELSIUS SYMBOL FORMATTING (FÖRSTÄRKT) === */

.celsius-symbol {
    white-space: nowrap;
    display: inline-block;
    font-weight: inherit;
    text-shadow: inherit;  /* NYT: Ärv text-shadow */
}

.celsius-c {
    font-size: 0.7em;
    vertical-align: super;
    line-height: 1;
    font-weight: inherit;
    margin-left: -0.1em;
}

/* === CSS VARIABLES (FÖRBÄTTRADE TEMAN för LP156WH4) === */

.theme-light {
    /* LJUST TEMA - Optimerat för LP156WH4 tunnare text */
    --bg-primary: #ffffff;
    --bg-secondary: rgba(240, 240, 240, 0.95);
    --bg-tertiary: #f1f3f4;
    --bg-quaternary: #e8f0fe;
    
    --glass-bg: rgba(128, 128, 128, 0.18);  /* ÖKAT: från 0.15 → 0.18 för bättre kontrast */
    --glass-border: rgba(80, 80, 80, 0.35);  /* ÖKAT: från rgba(100, 100, 100, 0.3) → mörkare */
    --glass-shadow: rgba(0, 0, 0, 0.2);  /* ÖKAT: från 0.15 → 0.2 för starkare definition */
    
    /* MYCKET MÖRKARE TEXT för LP156WH4 */
    --text-primary: #000000;           /* ÖKAT: från #1a1a1a → helt svart */
    --text-secondary: #2a2a2a;         /* ÖKAT: från #404040 → mörkare */
    --text-tertiary: #404040;          /* ÖKAT: från #606060 → mörkare */
    --text-quaternary: #606060;        /* ÖKAT: från #808080 → mörkare */
    
    --accent-primary: #4285f4;
    --accent-secondary: #34a853;
    --accent-tertiary: #ea4335;
    
    --success: #34a853;
    --warning: #fbbc04;
    --error: #ea4335;
    --info: #4285f4;
    
    /* Gradienter oförändrade */
    --gradient-day-start: #ff9500;
    --gradient-day-end: #ff4757;
    --gradient-evening-start: #ff9500;
    --gradient-evening-end: #6c5ce7;
    --gradient-night-start: #6c5ce7;
    --gradient-night-end: #2c2c54;
    --gradient-dawn-start: #2c2c54;
    --gradient-dawn-end: #487eb0;
    
    /* Barometer färger - Förstärkta */
    --barometer-rising: #2d7d32;       /* MÖRKARE: från #34a853 → mörkare grön */
    --barometer-falling: #d32f2f;      /* MÖRKARE: från #ea4335 → mörkare röd */
    --barometer-stable: #424242;       /* MÖRKARE: från #606060 → mörkare grå */
    --barometer-na: #616161;           /* MÖRKARE: från #808080 → mörkare grå */
    
    /* Cirkulär klocka oförändrad */
    --clock-bg: rgba(20, 20, 20, 0.95);
    --clock-time-color: #ff3333;
    --clock-date-color: rgba(255, 255, 255, 0.8);
    --clock-dot-inactive: rgba(255, 255, 255, 0.15);
    --clock-dot-active: #ff6666;
    --clock-border: rgba(255, 255, 255, 0.1);
}

.theme-dark {
    /* MÖRKT TEMA - Optimerat för LP156WH4 */
    --bg-primary: #0a0a0a;              /* MÖRKARE: från #0f0f0f → djupare svart */
    --bg-secondary: rgba(30, 30, 30, 0.98);  /* ÖKAT: från rgba(25, 25, 25, 0.95) → tätare */
    --bg-tertiary: #1a1a1a;             /* MÖRKARE: från #1f1f1f → djupare */
    --bg-quaternary: #2d2d2d;           /* ÖKAT: från #2a2a2a → ljusare kontrast */
    
    --glass-bg: rgba(70, 70, 70, 0.3);  /* ÖKAT: från rgba(60, 60, 60, 0.25) → ljusare */
    --glass-border: rgba(140, 140, 140, 0.3); /* ÖKAT: från rgba(120, 120, 120, 0.25) → ljusare */
    --glass-shadow: rgba(0, 0, 0, 0.5);  /* ÖKAT: från 0.4 → 0.5 starkare skugga */
    
    /* LJUSARE TEXT för LP156WH4 mörkt tema */
    --text-primary: #ffffff;            /* ÖKAT: från #f5f5f5 → helt vit */
    --text-secondary: #e0e0e0;          /* ÖKAT: från #d0d0d0 → ljusare */
    --text-tertiary: #c0c0c0;           /* ÖKAT: från #b0b0b0 → ljusare */
    --text-quaternary: #a0a0a0;         /* ÖKAT: från #909090 → ljusare */
    
    /* Ljusare accentfärger */
    --accent-primary: #6eb6ff;          /* LJUSARE: från #64b5f6 → ljusare blå */
    --accent-secondary: #7bc67e;        /* LJUSARE: från #66bb6a → ljusare grön */
    --accent-tertiary: #f57c7c;         /* LJUSARE: från #ef5350 → ljusare röd */
    
    --success: #7bc67e;
    --warning: #ffb74d;
    --error: #f57c7c;
    --info: #6eb6ff;
    
    /* Ljusare gradienter */
    --gradient-day-start: #ffb74d;
    --gradient-day-end: #f06292;
    --gradient-evening-start: #ffb74d;
    --gradient-evening-end: #9575cd;
    --gradient-night-start: #9575cd;
    --gradient-night-end: #5c6bc0;
    --gradient-dawn-start: #5c6bc0;
    --gradient-dawn-end: #64b5f6;
    
    /* Barometer färger - Ljusare för mörkt tema */
    --barometer-rising: #7bc67e;        /* LJUSARE: från #66bb6a → ljusare grön */
    --barometer-falling: #f57c7c;       /* LJUSARE: från #ef5350 → ljusare röd */
    --barometer-stable: #c0c0c0;        /* LJUSARE: från #b0b0b0 → ljusare grå */
    --barometer-na: #a0a0a0;            /* LJUSARE: från #909090 → ljusare grå */
    
    /* Cirkulär klocka oförändrad */
    --clock-bg: rgba(20, 20, 20, 0.95);
    --clock-time-color: #ff3333;
    --clock-date-color: rgba(255, 255, 255, 0.8);
    --clock-dot-inactive: rgba(255, 255, 255, 0.15);
    --clock-dot-active: #ff6666;
    --clock-border: rgba(255, 255, 255, 0.1);
}

/* === MAIN LAYOUT - LP156WH4 OPTIMERAD === */

body {
    background: var(--bg-primary);
    color: var(--text-primary);
    transition: background-color 0.3s ease, color 0.3s ease;
    font-size: calc(1.25rem + 0.2vw);  /* ÖKAT: från calc(1.15rem + 0.17vw) → +10% för LP156WH4 */
    font-weight: 600;  /* ÖKAT: från 500 → 600 */
    
    /* LP156WH4 SPECIFIK TEXT-FÖRSTÄRKNING */
    text-shadow: 0 0 0.5px currentColor, 0 0 1px rgba(0,0,0,0.1);  /* DUBBEL text-shadow */
}

.dashboard-container {
    padding: clamp(16px, 2vw, 32px);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    gap: clamp(4px, 0.5vw, 6px);
}

/* === GLASSMORPHISM CARD BASE (FÖRSTÄRKT) === */

.glass-card {
    background: var(--glass-bg);
    backdrop-filter: blur(8px);  /* MINSKAT: från 10px → 8px för bättre läsbarhet på LP156WH4 */
    -webkit-backdrop-filter: blur(8px);
    border-radius: 18px;
    border: 1.5px solid var(--glass-border);  /* ÖKAT: från 1px → 1.5px för starkare kant */
    box-shadow: 0 9px 37px var(--glass-shadow);
    transition: all 0.3s ease;
}

.glass-card:hover {
    box-shadow: 0 14px 46px var(--glass-shadow);
    transform: translateY(-2px);
}

.card-content {
    padding: clamp(14px, 2vw, 26px);
}

/* === HEADER SECTION (DOLD) === */

.header-section {
    display: none !important;
}

/* === WEATHER CARDS SECTION === */

.weather-cards-section {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: clamp(18px, 2.3vw, 32px);
    margin-bottom: 0;
}

/* === CIRKULÄR KLOCKA === */

.time-card {
    min-height: clamp(250px, 28vh, 320px);
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--clock-bg) !important;
    border: 1px solid var(--clock-border) !important;
}

.time-card .card-content {
    width: 100%;
    height: 100%;
    padding: clamp(12px, 1.5vw, 24px);
    display: flex;
    align-items: center;
    justify-content: center;
}

.circular-clock-container {
    position: relative;
    width: clamp(220px, 25vw, 280px);
    height: clamp(220px, 25vw, 280px);
    display: flex;
    align-items: center;
    justify-content: center;
}

.clock-dots-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 50%;
}

.clock-dot {
    position: absolute;
    width: clamp(4px, 0.6vw, 7px);
    height: clamp(4px, 0.6vw, 7px);
    background-color: var(--clock-dot-inactive);
    border-radius: 50%;
    transition: all 0.2s ease;
    transform-origin: center;
}

.clock-dot.active {
    background-color: var(--clock-dot-active);
    box-shadow: 0 0 12px var(--clock-dot-active);
    transform: scale(1.4);
}

.clock-digital-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    z-index: 10;
}

.clock-time {
    font-size: clamp(40px, 8vw, 68px);
    font-weight: 800;  /* ÖKAT: från 700 → 800 för LP156WH4 */
    color: var(--clock-time-color);
    line-height: 1;
    margin-bottom: clamp(6px, 0.8vw, 12px);
    font-family: 'Inter', monospace;
    text-shadow: 0 3px 12px rgba(255, 51, 51, 0.3), 0 0 2px currentColor;  /* EXTRA text-shadow */
}

.clock-date {
    font-size: clamp(14px, 1.6rem, 22px);
    font-weight: 500;  /* ÖKAT: från 400 → 500 */
    color: var(--clock-date-color);
    line-height: 1.2;
    text-align: center;
    max-width: 90%;
    word-wrap: break-word;
    text-shadow: 0 0 1px currentColor;  /* NYT: text-shadow för datum */
}

/* === SMHI MAIN CARD === */

.smhi-main-card {
    min-height: clamp(250px, 28vh, 320px);
}

.smhi-main-card .card-content {
    position: relative;
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr auto auto;
    gap: clamp(12px, 1.5vw, 18px);
    height: 100%;
}

.position-header {
    position: absolute;
    top: 12px;
    left: clamp(18px, 2.3vw, 32px);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    z-index: 10;
}

.position-text {
    font-size: clamp(12px, 1.2rem, 15px);
    font-weight: 700;  /* ÖKAT: från 600 → 700 för LP156WH4 */
    color: var(--text-tertiary);
    letter-spacing: 1px;
    text-transform: uppercase;
    margin-bottom: 3px;
    line-height: 1;
    white-space: nowrap;
    text-shadow: 0 0 1px currentColor;  /* NYT: text-shadow */
}

.position-underline {
    width: clamp(81px, 9vw, 115px);
    height: 2px;  /* ÖKAT: från 1px → 2px för starkare linje */
    background-color: var(--text-quaternary);
    opacity: 0.8;  /* ÖKAT: från 0.6 → 0.8 */
}

/* === TEMPERATURE SECTION === */

.main-temp-section {
    grid-column: 1;
    grid-row: 1;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    padding-top: 40px;
}

.combined-temperature-display {
    display: flex;
    flex-direction: column;
}

.temperature-container {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    gap: clamp(20px, 2.5vw, 30px);
    margin-bottom: 9px;
}

.smhi-temperature-section {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.main-temperature {
    font-size: clamp(64px, 11.5vw, 106px);
    font-weight: 800;  /* ÖKAT: från 700 → 800 för LP156WH4 */
    color: var(--text-primary);
    line-height: 1;
    margin-bottom: 5px;
    text-shadow: 0 0 2px currentColor, 0 1px 3px rgba(0,0,0,0.2);  /* EXTRA text-shadow */
}

.smhi-label {
    font-size: clamp(13px, 1.3rem, 16px);
    font-weight: 700;  /* ÖKAT: från 600 → 700 */
    color: var(--text-secondary);
    letter-spacing: 1px;
    text-transform: uppercase;
    text-shadow: 0 0 1px currentColor;
}

.netatmo-temperature-section {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    margin-top: 0;
}

.netatmo-temp-small {
    font-size: clamp(30px, 5.5vw, 48px);
    font-weight: 700;  /* ÖKAT: från 600 → 700 */
    color: var(--accent-secondary);
    line-height: 1;
    margin-bottom: 2px;
    transition: color 0.3s ease;
    text-shadow: 0 0 1px currentColor;  /* NYT: text-shadow */
}

.netatmo-label {
    font-size: clamp(8px, 1rem, 12px);
    font-weight: 700;  /* ÖKAT: från 600 → 700 */
    color: var(--text-tertiary);
    letter-spacing: 0.5px;
    text-transform: uppercase;
    text-shadow: 0 0 1px currentColor;
}

.wind-under-faktisk {
    margin-top: 8px;
    font-size: clamp(10px, 1rem, 13px);
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    gap: 6px;
    font-weight: 600;  /* ÖKAT: från 500 → 600 */
    text-shadow: 0 0 1px currentColor;
}

/* === SOL-IKONER === */

.sun-times {
    grid-column: 1 / -1;
    grid-row: 2;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    gap: clamp(20px, 3vw, 40px);
    margin-top: 0;
    padding: 0;
}

.sun-time {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: clamp(11px, 1.1rem, 14px);
    color: var(--text-secondary);
    font-weight: 600;  /* ÖKAT: från 500 → 600 */
}

.sun-icon {
    font-family: 'weathericons', 'Weather Icons', sans-serif !important;
    font-style: normal !important;
    font-weight: normal !important;
    display: inline-block !important;
    line-height: 1 !important;
    font-size: clamp(28px, 2.8rem, 36px) !important;
    text-shadow: 0 2px 4px rgba(0,0,0,0.2), 0 0 2px currentColor;  /* EXTRA text-shadow */
    filter: drop-shadow(0 2px 3px rgba(0,0,0,0.2)) drop-shadow(0 0 1px currentColor);  /* DUBBEL filter */
}

.sun-time span {
    font-size: clamp(11px, 1.1rem, 14px);
    font-weight: 600;  /* ÖKAT: från 500 → 600 */
    text-shadow: 0 0 1px currentColor;
}

/* === WEATHER INFO SECTION (FÖRSTÄRKT HUVUDVÄDERIKON) === */

.weather-info-section {
    grid-column: 2;
    grid-row: 1;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    padding-top: 20px;
}

.weather-icon-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 20px;
}

/* FÖRSTÄRKT HUVUDVÄDERIKON: +20% storlek för LP156WH4 */
.weather-icon {
    font-size: clamp(55px, 8.4vw, 89px);  /* ÖKAT: från clamp(46px, 7vw, 74px) → +20% för bättre synlighet */
    color: var(--accent-primary);
    margin-bottom: 9px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.weather-main-icon {
    color: inherit;
    text-shadow: 0 2px 5px rgba(0,0,0,0.1), 0 0 2px currentColor;  /* EXTRA text-shadow */
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.2)) drop-shadow(0 0 1px currentColor);  /* DUBBEL filter */
}

.weather-description {
    font-size: clamp(21px, 2.3rem, 30px);
    font-weight: 700;  /* ÖKAT: från 600 → 700 */
    color: var(--text-primary);
    text-align: center;
    text-shadow: 0 0 1px currentColor;  /* NYT: text-shadow */
}

/* === WEATHER DETAILS - FÖRSTÄRKT MINSTA TEXT === */

.weather-details-grid {
    grid-column: 1 / -1;
    grid-row: 3;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    gap: clamp(12px, 2vw, 20px);
    width: 100%;
}

.detail-item {
    display: flex;
    align-items: center;
    gap: 7px;
    font-size: clamp(15px, 1.5rem, 19px);  /* FÖRSTORING: från clamp(12px, 1.2rem, 15px) → +3-4px större */
    font-weight: 700;  /* FÖRSTÄRKNING: från 600 → 700 för LP156WH4 */
    color: var(--text-secondary);
    min-height: 23px;
    flex: 1;
    text-shadow: 0 0 1px currentColor, 0 0 2px rgba(0,0,0,0.15);  /* DUBBEL text-shadow för minsta text */
}

/* === BAROMETER STYLING (FÖRSTÄRKT) === */

.barometer-detail {
    flex-direction: row;
    align-items: flex-start;
    gap: 9px;
    padding: 5px 0;
}

.barometer-icon-container {
    display: inline-block;
    min-width: 23px;
}

.barometer-detail .barometer-icon .wi {
    font-family: 'weathericons', 'Weather Icons', sans-serif !important;
    font-style: normal !important;
    font-weight: normal !important;
    font-size: clamp(20px, 2rem, 26px);  /* ÖKAT: från clamp(18px, 1.8rem, 23px) → större barometer-ikon */
    display: inline-block !important;
    line-height: 1 !important;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1), 0 0 1px currentColor;  /* EXTRA text-shadow */
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1)) drop-shadow(0 0 1px currentColor);  /* DUBBEL filter */
    transition: color 0.3s ease;
}

/* Barometer färgkodning (förstärkt) */
.barometer-detail .barometer-icon .wi.rising {
    color: var(--barometer-rising) !important;
}

.barometer-detail .barometer-icon .wi.falling {
    color: var(--barometer-falling) !important;
}

.barometer-detail .barometer-icon .wi.stable {
    color: var(--barometer-stable) !important;
}

.barometer-detail .barometer-icon .wi.na {
    color: var(--barometer-na) !important;
}

.barometer-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
    flex: 1;
}

.barometer-pressure-line {
    font-size: clamp(15px, 1.5rem, 19px);  /* FÖRSTORING: från clamp(12px, 1.2rem, 15px) → matchar detail-item */
    color: var(--text-secondary);
    font-weight: 700;  /* FÖRSTÄRKNING: från 600 → 700 */
    text-shadow: 0 0 1px currentColor, 0 0 2px rgba(0,0,0,0.15);  /* DUBBEL text-shadow */
}

.barometer-trend-line {
    font-size: clamp(13px, 1.3rem, 17px);  /* FÖRSTORING: från clamp(10px, 1rem, 14px) → +3px större */
    color: var(--text-tertiary);
    font-weight: 600;  /* FÖRSTÄRKNING: från 500 → 600 */
    text-shadow: 0 0 1px currentColor, 0 0 2px rgba(0,0,0,0.1);  /* DUBBEL text-shadow */
}

.barometer-desc-line {
    display: none !important;
}

/* === WIND ICON SYSTEM (FÖRSTÄRKT) === */

.wind-display {
    display: flex;
    align-items: center;
    gap: 7px;
}

.wind-icon {
    color: #4A9EFF !important;
    font-family: 'weathericons', 'Weather Icons', sans-serif !important;
    font-style: normal !important;
    font-weight: normal !important;
    display: inline-block !important;
    font-size: clamp(16px, 1.6rem, 21px);  /* FÖRSTORING: från clamp(14px, 1.4rem, 18px) → +2-3px större */
    text-shadow: 0 0 1px currentColor;  /* NYT: text-shadow */
    filter: drop-shadow(0 0 1px currentColor);
}

.wind-text {
    color: var(--text-secondary);
    font-weight: 700;  /* FÖRSTÄRKNING: från 600 → 700 */
    font-size: clamp(15px, 1.5rem, 19px);  /* FÖRSTORING: matchar detail-item */
    text-shadow: 0 0 1px currentColor, 0 0 2px rgba(0,0,0,0.15);  /* DUBBEL text-shadow */
}

/* === FONT AWESOME LEAF SYSTEM (FÖRSTÄRKT) + SEPARERAD FÄRGKODNING === */

.air-quality-container {
    display: flex;
    align-items: center;
    gap: 7px;
}

.air-quality-fa-icon {
    font-family: "Font Awesome 6 Free", "Font Awesome 5 Free", sans-serif !important;
    font-weight: 900 !important;
    font-style: normal !important;
    display: inline-block !important;
    font-size: clamp(21px, 2.1rem, 28px) !important;  /* FÖRSTORING: från clamp(18px, 1.8rem, 25px) → +3px större */
    transition: all 0.3s ease;
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.2)) drop-shadow(0 0 1px currentColor);  /* DUBBEL filter */
}

/* SEPARERAD FÄRGKODNING: Bara ikonen får färg */
.air-quality-fa-icon[data-air-quality="good"] {
    color: #34a853 !important;  /* Grön ikon */
}

.air-quality-fa-icon[data-air-quality="moderate"] {
    color: #fbbc04 !important;  /* Gul ikon */
}

.air-quality-fa-icon[data-air-quality="poor"] {
    color: #ea4335 !important;  /* Röd ikon */
}

/* TEXTEN förblir alltid läsbar i standardfärg */
.air-quality-text {
    color: var(--text-secondary) !important;  /* ALLTID standardfärg för text */
    font-weight: 700 !important;  /* FÖRSTÄRKNING: från 600 → 700 */
    font-size: clamp(15px, 1.5rem, 19px) !important;  /* FÖRSTORING: matchar detail-item */
    text-shadow: 0 0 1px currentColor, 0 0 2px rgba(0,0,0,0.15) !important;  /* DUBBEL text-shadow */
}

/* Specifik styling för air-quality elementet (för fall där CSS-klasser ej används) */
#air-quality {
    color: var(--text-secondary) !important;  /* TVINGA standardfärg */
    font-weight: 700 !important;
    font-size: clamp(15px, 1.5rem, 19px) !important;
    text-shadow: 0 0 1px currentColor, 0 0 2px rgba(0,0,0,0.15) !important;
}

/* === OTHER DETAIL ICONS (FÖRSTÄRKT) === */

.pressure-icon,
.humidity-icon {
    color: inherit;
    font-family: 'weathericons', 'Weather Icons', sans-serif !important;
    font-style: normal !important;
    font-weight: normal !important;
    font-size: clamp(16px, 1.6rem, 21px);  /* FÖRSTORING: från clamp(14px, 1.4rem, 18px) → +2-3px större */
    display: inline-block;
    text-align: center;
    min-width: 18px;
    text-shadow: 0 0 1px currentColor;  /* NYT: text-shadow */
    filter: drop-shadow(0 0 1px currentColor);
}

/* === FORECAST SECTIONS === */

.forecast-sections-container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: clamp(18px, 2.3vw, 32px);
    align-items: stretch;
    margin-bottom: 0;
}

/* === KOMPAKTARE PROGNOSKORT - MINSKAD HÖJD === */

/* Övergripande kompakt titel för prognoser */
.hourly-forecast-section .section-title,
.daily-forecast-section .section-title {
    font-size: clamp(18px, 1.8rem, 25px);
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 4px;  /* MINSKAT: från 9px → 4px */
    text-align: center;
    text-shadow: 0 0 1px currentColor;
}

/* Kompakt card-content för prognoser */
.hourly-forecast-section .card-content,
.daily-forecast-section .card-content {
    padding: clamp(10px, 1.5vw, 18px) clamp(14px, 2vw, 26px);  /* MINSKAT: Vertikal padding från 14-26px → 10-18px */
    flex: 1;
    display: flex;
    flex-direction: column;
}

/* Kompakt placeholder för prognoser */
.hourly-forecast-section .forecast-placeholder,
.daily-forecast-section .forecast-placeholder {
    text-align: center;
    padding: 20px;  /* MINSKAT: från 37px → 20px */
    font-size: clamp(16px, 1.6rem, 23px);
    color: var(--text-secondary);
    grid-column: 1 / -1;
    font-weight: 600;
    text-shadow: 0 0 1px currentColor;
}

/* === HOURLY FORECAST (FÖRSTÄRKT) === */

.hourly-forecast-section {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.hourly-forecast-section .glass-card {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.hourly-forecast {
    display: flex;
    flex-wrap: wrap;
    gap: clamp(3px, 0.4vw, 6px);
    justify-content: center;
    max-width: 100%;
    flex: 1;
    align-content: flex-start;
}

.forecast-card {
    background: var(--glass-bg);
    backdrop-filter: blur(6px);  /* MINSKAT: från 8px → 6px för LP156WH4 */
    -webkit-backdrop-filter: blur(6px);
    border-radius: 18px;
    border: 1.5px solid var(--glass-border);  /* ÖKAT: från 1px → 1.5px */
    padding: clamp(8px, 1vw, 12px) clamp(10px, 1.2vw, 16px);
    text-align: center;
    transition: all 0.3s ease;
    color: white;
    min-height: auto;
    height: fit-content;
    width: clamp(105px, 12vw, 140px);
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    gap: clamp(10px, 1.2vw, 14px);
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);  /* ÖKAT: från 0.1 → 0.15 */
}

.forecast-card:hover {
    transform: translateY(-2px) scale(1.005);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);  /* ÖKAT: från 0.15 → 0.2 */
}

/* Time-based gradients oförändrade */
.forecast-card.time-day {
    background: linear-gradient(135deg, var(--gradient-day-start), var(--gradient-day-end));
}

.forecast-card.time-evening {
    background: linear-gradient(135deg, var(--gradient-evening-start), var(--gradient-evening-end));
}

.forecast-card.time-night {
    background: linear-gradient(135deg, var(--gradient-night-start), var(--gradient-night-end));
}

.forecast-card.time-dawn {
    background: linear-gradient(135deg, var(--gradient-dawn-start), var(--gradient-dawn-end));
}

.forecast-time {
    font-size: clamp(14px, 1.6rem, 20px);
    font-weight: 700;  /* ÖKAT: från 600 → 700 */
    opacity: 1;
    margin-bottom: 0;
    text-shadow: 0 1px 3px rgba(0,0,0,0.4), 0 0 1px rgba(255,255,255,0.3);  /* FÖRSTÄRKT text-shadow */
    
    background: rgba(0, 0, 0, 0.85);
    color: white;
    padding: 2px 6px;
    border-radius: 6px;
    display: inline-block;
    min-width: 45px;
    text-align: center;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
    font-family: 'Segoe UI', sans-serif;
}

.forecast-icon {
    font-size: clamp(36px, 4.5vw, 48px);
    margin: 0;
    flex-grow: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    height: auto;
}

.forecast-weather-icon {
    color: #FFD700 !important;
    text-shadow: 0 2px 4px rgba(0,0,0,0.4), 0 0 2px rgba(255,255,255,0.2);  /* FÖRSTÄRKT text-shadow */
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3)) drop-shadow(0 0 1px rgba(255,255,255,0.2));  /* DUBBEL filter */
    font-size: clamp(36px, 4.5vw, 48px);
}

.forecast-temp {
    font-size: clamp(20px, 2.4rem, 28px);
    font-weight: 800;  /* ÖKAT: från 700 → 800 */
    margin-bottom: 0;
    text-shadow: 0 1px 2px rgba(0,0,0,0.4), 0 0 1px rgba(255,255,255,0.2);  /* FÖRSTÄRKT text-shadow */
}

/* === KONSISTENT VINDLAYOUT: Nya CSS-klasser för alltid radbryt === */

.forecast-wind-consistent {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 2px;
    min-height: 52px;  /* NYT: Fast höjd för konsistent layout */
    width: 100%;
    font-size: clamp(12px, 1.4rem, 16px);
    opacity: 0.95;
    margin-top: 0;
    margin-bottom: 0 !important;
    font-weight: 700;  /* ÖKAT: från 600 → 700 */
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

.forecast-wind-header {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1px;
    height: 24px;  /* NYT: Fast höjd för ikon-raden */
    width: 100%;
}

.forecast-wind-text {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1px;
    min-height: 26px;  /* NYT: Fast höjd för text-området */
    width: 100%;
    line-height: 1.1;
}

.wind-line1 {
    font-size: clamp(11px, 1.3rem, 15px);
    font-weight: 700;
    text-align: center;
    margin: 0;
    line-height: 1;
    white-space: nowrap;
    text-shadow: 0 1px 2px rgba(0,0,0,0.4);
}

.wind-line2 {
    font-size: clamp(10px, 1.2rem, 14px);
    font-weight: 600;
    text-align: center;
    margin: 0;
    line-height: 1;
    white-space: nowrap;
    text-shadow: 0 1px 2px rgba(0,0,0,0.4);
    opacity: 0.9;
}

/* FALLBACK: Gamla forecast-wind klassen (för kompatibilitet) */
.forecast-wind:not(.forecast-wind-consistent) {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 3px;
    font-size: clamp(12px, 1.4rem, 16px);
    opacity: 0.95;
    margin-top: 0;
    margin-bottom: 0 !important;
    font-weight: 700;  /* ÖKAT: från 600 → 700 */
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

.forecast-precip {
    font-size: clamp(10px, 1.2rem, 14px);
    opacity: 0.9;
    text-align: center;
    margin-top: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2px;
    font-weight: 600;  /* ÖKAT: från 500 → 600 */
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

/* === DAILY FORECAST (FÖRSTÄRKT) === */

.daily-forecast-section {
    margin-bottom: 0;
    display: flex;
    flex-direction: column;
    height: 100%;
}

.daily-forecast-section .glass-card {
    flex: 1;
    display: flex;
    flex-direction: column;
}

/* Kompakt daily-forecast-content */
.daily-forecast-content {
    padding: clamp(10px, 1.3vw, 18px);  /* MINSKAT: från clamp(14px, 1.7vw, 23px) → mindre vertikal padding */
    background: rgba(220, 220, 220, 0.35);
    border-radius: 14px;
    border: 1.5px solid rgba(180, 180, 180, 0.5);
    box-sizing: border-box;
    width: fit-content;
    margin: 0 auto;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.daily-forecast-headers {
    display: grid;
    grid-template-columns: clamp(29px, 3.5vw, 40px) clamp(58px, 7vw, 81px) clamp(81px, 9vw, 109px) clamp(46px, 5.8vw, 69px);
    align-items: center;
    gap: clamp(7px, 0.9vw, 12px);
    padding: 0;
    margin-bottom: 6px;  /* MINSKAT: från 8px → 6px */
    font-size: clamp(8px, 0.8rem, 11px);
    font-weight: 700;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    text-shadow: 0 0 1px currentColor;
}

.daily-forecast-headers .header-temp {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 4px;
    font-size: clamp(8px, 0.8rem, 10px);
}

/* Kompakt daily-forecast-item */
.daily-forecast-item {
    display: grid;
    grid-template-columns: clamp(29px, 3.5vw, 40px) clamp(58px, 7vw, 81px) clamp(81px, 9vw, 109px) clamp(46px, 5.8vw, 69px);
    align-items: center;
    gap: clamp(7px, 0.9vw, 12px);
    padding: clamp(2px, 0.4vw, 5px) 0;  /* Behåller samma som tidigare */
    border-bottom: 1px solid var(--bg-tertiary);
    transition: all 0.2s ease;
}

.daily-forecast-item:hover {
    background: rgba(255, 255, 255, 0.7);
    border-radius: 7px;
    padding: clamp(3px, 0.6vw, 7px) clamp(7px, 0.9vw, 12px);
    transform: translateX(2px);
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.15);
}

.theme-dark .daily-forecast-content {
    background: rgba(80, 80, 80, 0.35);
    border: 1.5px solid rgba(120, 120, 120, 0.5);
}

.theme-dark .daily-forecast-item:hover {
    background: rgba(255, 255, 255, 0.2);
}

.daily-forecast-item:last-child {
    border-bottom: none;
}

.daily-icon {
    font-size: clamp(18px, 2.3rem, 30px);
    color: var(--accent-primary);
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    width: clamp(29px, 3.5vw, 40px);
    height: clamp(28px, 3.5vh, 39px);
}

.daily-weather-icon {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
    font-size: clamp(18px, 2.3rem, 30px);
    transition: all 0.3s ease;
    font-family: 'weathericons', 'Weather Icons', sans-serif !important;
    font-style: normal !important;
    font-weight: normal !important;
    position: relative;
    filter: drop-shadow(0 0 1px currentColor);
}

/* Enhetsfärgade ikoner (förstärkta) */
.daily-sun-color {
    color: #FFD700 !important;
    filter: drop-shadow(0 0 3px rgba(255, 215, 0, 0.5)) drop-shadow(0 0 1px currentColor);
}

.daily-partly-cloudy-color {
    color: #87CEEB !important;
    filter: drop-shadow(0 0 2px rgba(135, 206, 235, 0.4)) drop-shadow(0 0 1px currentColor);
}

.daily-cloud-color {
    color: #B0C4DE !important;
    filter: drop-shadow(0 0 2px rgba(176, 196, 222, 0.4)) drop-shadow(0 0 1px currentColor);
}

.daily-rain-color {
    color: #4169E1 !important;
    filter: drop-shadow(0 0 3px rgba(65, 105, 225, 0.5)) drop-shadow(0 0 1px currentColor);
}

.daily-snow-color {
    color: #F0F8FF !important;
    filter: drop-shadow(0 0 2px rgba(240, 248, 255, 0.6)) drop-shadow(0 0 1px currentColor);
}

.daily-thunderstorm-color {
    color: #9370DB !important;
    filter: drop-shadow(0 0 4px rgba(147, 112, 219, 0.6)) drop-shadow(0 0 1px currentColor);
}

.daily-default-color {
    color: #4285f4 !important;
    filter: drop-shadow(0 0 2px rgba(66, 133, 244, 0.4)) drop-shadow(0 0 1px currentColor);
}

.daily-temp {
    font-size: clamp(14px, 1.5rem, 20px);
    font-weight: 700;
    color: var(--text-primary);
    white-space: nowrap;
    transition: color 0.3s ease;
    text-shadow: 0 0 1px currentColor;
}

.daily-temp.temp-hot {
    color: #ef4444 !important;
    font-weight: 800;
    text-shadow: 0 0 2px currentColor;
}

.daily-weekday {
    font-size: clamp(13px, 1.4rem, 18px);
    font-weight: 600;
    color: var(--text-primary);
    text-shadow: 0 0 1px currentColor;
}

.daily-date {
    font-size: clamp(13px, 1.4rem, 18px);
    color: var(--text-secondary);
    text-align: right;
    font-weight: 600;
    text-shadow: 0 0 1px currentColor;
}

/* === STATUS SECTION === */

.status-section {
    margin-top: auto;
    text-align: center;
}

.status-text {
    font-size: clamp(10px, 1.2rem, 15px);
    font-weight: 600;
    color: var(--text-quaternary);
    text-shadow: 0 0 1px currentColor;
}

/* === LOADING OVERLAY === */

.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    opacity: 1;
    transition: opacity 0.5s ease;
}

.loading-overlay.hidden {
    opacity: 0;
    pointer-events: none;
}

.loading-content {
    text-align: center;
    color: white;
}

.loading-spinner {
    width: 46px;
    height: 46px;
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-top: 3px solid white;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 18px;
}

.loading-text {
    font-size: clamp(16px, 1.6rem, 23px);
    font-weight: 600;
    text-shadow: 0 0 2px currentColor;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* === RESPONSIVE DESIGN (LP156WH4 OPTIMERAD) === */

/* LP156WH4 är 1366×768, så dessa breakpoints är anpassade */
@media (min-width: 1200px) {
    body {
        font-size: calc(1.35rem + 0.25vw);
        font-weight: 700;
    }
    
    .dashboard-container {
        padding: clamp(24px, 3vw, 40px);
        gap: clamp(6px, 0.7vw, 8px);
    }
    
    .detail-item {
        font-size: clamp(16px, 1.6rem, 21px) !important;
        font-weight: 800 !important;
    }
}

@media (min-width: 768px) and (max-width: 1199px) {
    body {
        font-size: calc(1.25rem + 0.15vw);
        font-weight: 600;
    }
    
    .dashboard-container {
        padding: clamp(16px, 2vw, 28px);
        gap: clamp(4px, 0.5vw, 6px);
    }
}

@media (min-width: 481px) and (max-width: 767px) {
    body {
        font-size: calc(1.2rem + 0.2vw);
        font-weight: 600;
    }
    
    .dashboard-container {
        padding: clamp(12px, 1.8vw, 24px);
        gap: clamp(3px, 0.4vw, 5px);
    }
    
    .weather-cards-section {
        grid-template-columns: 1fr;
        gap: clamp(14px, 2.1vw, 23px);
    }
    
    .forecast-sections-container {
        grid-template-columns: 1.5fr 1fr;
        gap: clamp(14px, 2.1vw, 23px);
    }
}

@media (max-width: 480px) {
    body {
        font-size: calc(1.15rem + 0.25vw);
        font-weight: 600;
    }
    
    .dashboard-container {
        padding: clamp(8px, 1.5vw, 16px);
        gap: clamp(2px, 0.3vw, 4px);
    }
    
    .weather-cards-section {
        grid-template-columns: 1fr;
        gap: clamp(9px, 1.7vw, 16px);
    }
    
    .smhi-main-card .card-content {
        grid-template-columns: 1fr;
        gap: clamp(14px, 2.3vw, 23px);
    }
    
    .forecast-sections-container {
        grid-template-columns: 1fr;
        gap: clamp(12px, 2.3vw, 21px);
    }
    
    .barometer-detail {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
    }
    
    .barometer-icon-container {
        margin-bottom: 5px;
    }
    
    .circular-clock-container {
        width: clamp(161px, 29vw, 207px);
        height: clamp(161px, 29vw, 207px);
    }
    
    .clock-time {
        font-size: clamp(23px, 5.8vw, 41px);
        font-weight: 800;
    }
    
    .clock-date {
        font-size: clamp(9px, 1.2rem, 14px);
        font-weight: 600;
    }
}

/* === ANIMATIONS === */

.glass-card {
    animation: fadeInUp 0.6s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(35px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* === UTILITY CLASSES === */

.hidden {
    display: none !important;
}

.fade-in {
    animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* === LP156WH4 SPECIFIKA OPTIMERINGAR === */

/* Extra förstärkning för 1366×768 upplösning */
@media (width: 1366px) and (height: 768px) {
    body {
        font-size: 1.4rem;
        font-weight: 700;
        text-shadow: 0 0 1px currentColor, 0 0 2px rgba(0,0,0,0.15);
    }
    
    .main-temperature {
        font-weight: 900 !important;
        text-shadow: 0 0 3px currentColor, 0 1px 4px rgba(0,0,0,0.25) !important;
    }
    
    .clock-time {
        font-weight: 900 !important;
        text-shadow: 0 3px 12px rgba(255, 51, 51, 0.4), 0 0 3px currentColor !important;
    }
    
    .detail-item {
        font-size: 18px !important;
        font-weight: 800 !important;
        text-shadow: 0 0 2px currentColor, 0 0 3px rgba(0,0,0,0.2) !important;
    }
    
    .barometer-pressure-line,
    .barometer-trend-line {
        font-weight: 800 !important;
        text-shadow: 0 0 2px currentColor, 0 0 3px rgba(0,0,0,0.2) !important;
    }
}

/* Fallback för liknande upplösningar */
@media (min-width: 1300px) and (max-width: 1400px) and (min-height: 700px) and (max-height: 800px) {
    body {
        font-size: 1.35rem;
        font-weight: 700;
        text-shadow: 0 0 1px currentColor, 0 0 1px rgba(0,0,0,0.1);
    }
    
    .detail-item {
        font-size: 17px !important;
        font-weight: 750 !important;
        text-shadow: 0 0 1.5px currentColor, 0 0 2px rgba(0,0,0,0.15) !important;
    }
}